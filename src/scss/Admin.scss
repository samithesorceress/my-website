@import "./vars/colors";

.media_browser {
	//border: 1px solid $shadow;
	//box-shadow: 0 1em 5em;
	//height: 20em;
	//left: calc(50% - 15em);
	//padding: 0!important;
	//position: absolute;
	//width: 30em;
	//z-index: 4;
	.actions_footer {
		background: $white;
		border-radius: 0 0 .5em .5em;
		border-top: 1px solid $shadow;
		display: flex;
		justify-content: space-between;
		height: 4em;
		padding: 1em;
		.field {
			display: flex;
			justify-content: flex-start;
			margin: 0!important;
			input {
				background: none;
				border: 0!important;
				padding: 0;
			}
		}
		.cta {
			font-size: 16px;
			padding: 0.125em 1em;
			line-height: 2em;
			margin: 0;
			min-height: 2em;
		}
	}
}

.media_library {
    background: $offwhite;
    border-radius: .5em 0 0 0;
    display: flex;
    flex-wrap: wrap;
    //margin-bottom: 1em;
	height: 16em;
	margin: 0!important;
	overflow-y: scroll;
	overflow-x: hidden;
	padding: 1em;
    .field {
        width: 100%;
        input, textarea {
            background: $white!important;
        }
    }
}

.preview_new_img {
	max-width: 100%;
	height: auto;
	display: block;
}

.fields {
	.field {
		display: flex;
		justify-content: space-between;
		height: 8em;
		margin-bottom: 0!important;
		position: relative;
		width: 100%;
		div {
			flex-basis: calc(50% - 3em);
			//	width: calc(50% - .5em);

		}
		label {
				font-weight: normal;
		}
		button {
			cursor: pointer;
			flex-grow: 0;
			height: 4em;
			margin: 2em 0;
			padding: 1em;
			width: 4em!important;
			flex-grow: 0;
		}
	}
	ul:last-child {
		margin-bottom: 1em;
	}
}

.field {
	.media_container {
		height: auto;
		margin-bottom: 1em;
		width: auto;
		img {
			&[data-shape="wide"] {
				height: auto;
				max-width: 32em;
			}
			&[data-shape="tall"] {	
				max-height: 32em;
				width: auto;
			}
		}
	}
}

#view-all_actions_bar {
	display: flex;
	justify-content: space-between;
	overflow: hidden;
	div {
		height: 4em;
		display: flex;
		&.disabled {
			pointer-events: none;
			.btn{
				background: $offwhite!important;
			}
		}
	}
}
#view_all {
	position: relative;
}
#view_all_list {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	li {
		margin: 0 1em 1em 0;
		position: relative;
		flex-grow: 1;
		&.hidden-flex-item {
			margin: 0;
			padding: 0;
		}
		a {
			display: flex;
			position: relative;
			width: 100%;
			&:after {
				content: "";
				display: block;
				padding-bottom: 100%;
			}
			.media_container {
				cursor: alias;
				height: 100%;
				position: absolute;
				width: 100%;
			}
		}
		@media(max-width: 245px) {
			flex-basis: 100%;
			margin-right: 0; 
			width: 100%;
		}
		@media(min-width: 250px) and (max-width: 374px) {
			flex-basis: calc(50% - 1em);
		//	width: calc(50% - 1em);
			&:nth-child(2n + 2) {
				margin-right: 0;
			}
		}
		@media(min-width: 375px) and (max-width: 519px) {
			flex-basis: calc(33.3% - 1em);
		//	width: calc(33.3% - 2em);
			&:nth-child(3n + 3) {
				margin-right: 0;
			}
		}

		@media(min-width: 520px) and (max-width: 665px) {
			flex-basis: calc(25% - 1em);
		//	width: calc(25% - 3em);
			&:nth-child(4n + 4) {
				margin-right: 0;
			}
		}
		@media(min-width: 666px) and (max-width: 767px) {
			flex-basis: calc(20% - 1em);
		//	width: calc(20% - 4em);
			&:nth-child(5n + 5) {
				margin-right: 0;
			}
		}
		@media(min-width: 768px) and (max-width: 1023px) {
			flex-basis: calc(16.6% - 1em);
		//	width: calc(16.6% - 5em);
			&:nth-child(6n + 6) {
				margin-right: 0;
			}
		}
		@media(min-width: 1024px) and (max-width: 1439px) {
			flex-basis: calc(12.5% - 1em);
		//	width: calc(12.5% - 7em);
			&:nth-child(8n + 8) {
				margin-right: 0;
			}
		}
		@media(min-width: 1440px) and (max-width: 1919px) {
			flex-basis: calc(10% - 1em);
		//	width: calc(10% - 9em);
			&:nth-child(10n + 10) {
				margin-right: 0;
			}
		}
		@media(min-width: 1920px) {
			flex-basis: calc(8.3% - 1em);
		//	width: calc(8.3% - 11em);
			&:nth-child(12n + 12) {
				margin-right: 0;
			}
		}
		.fab {
			left: -.5em;
			top: -.5em;
			opacity: 0;
			transform: scale(0.5);
			transition-duration: .2s;
			transition-property: transform, opacity;
		}
		.media_container {
			border: 0px solid $teal;
			transition-duration: .2s;
			transition-property: border;
		}
		&:active, &:focus, &:hover {
			.fab {
				transform: scale(1);
				opacity: 1;
			}
		}
		&.selected {
			.fab .icon{
				&.checked {
					display: inline;
				}
				&.unchecked {
					display: none;
				}
			}
			.media_container {
				border-width: 6px;
			}
		}
		&:not(.selected) {
			.fab .icon {
				&.checked {
					display: none;
				}
				&.unchecked {
					display: inline;
				}
			}
			.media_container {
				border-width: 0px;
			}
		}
	}

	&.selections_active {
		li {
			cursor: pointer;
			.fab {
				transform: scale(1)!important;
				opacity: 1!important;
			}
			*:not(.fab) {
				pointer-events: none;
			}
			&:active, &:focus, &:hover {
				.fab {
					background: $active_teal!important;
				}
				.media_container {
					filter: brightness(1.1);
					opacity: 0.8;
				}
			}
		}
	}
}